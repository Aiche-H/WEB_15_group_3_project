<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="./local-css/form.css">
  <link rel="stylesheet" href="../../resources/css/aos.css">
  <link rel="stylesheet" href="../../resources/css/materialize.css">
  <link rel="stylesheet" href="../../global/css/global.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- Google reCAPTCHA client -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <title>Contact us</title>
</head>

<body>

  <!-- Otan tän työstöön nyt huomisesta lähtien / Markus -->


  <!-- Header kopioitu toiselta sivulta sellaisenaan -->
  <header>
    <nav>
      <div class="nav-wrapper black">
          <div class="container">
              <a href="#" class="brand-logo"><img src="../../resources/images/space-logo.png" alt="Our logo"></a>
              <a href="#" data-target="mobile-menu" class="sidenav-trigger"><i class="material-icons">menu</i></a>

              <ul class="right hide-on-med-and-down">
                  <li><a href="../../index.html">Etusivu</a></li>
                  <li><a class='dropdown-trigger' href='#' data-target='dropdown1'>Planeetat</a></li>

                  <ul id='dropdown1' class='dropdown-content black-text'>
                      <li><a href="../01-sun/sun.html">Aurinko</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../02-mercury/mercury.html">Merkurius</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../03-venus/venus.html">Venus</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../04-earth/earth.html">Maa</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../05-mars/mars.html">Mars</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../06-jupiter/jupiter.html">Jupiter</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../07-saturn/saturn.html">Saturnus</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../08-uranus/uranus.html">Uranus</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../09-neptune/neptune.html">Neptunus</a></li>
                      <li class="divider" tabindex="-1"></li>
                  </ul>

                  <li><a href="../contact_form/contactform.html">Ota yhteyttä</a></li>
                  <li><a href="../about_us/aboutus.html">Tietoa meistä</a></li>
                  <li><a href="../sign-in-page/sign.html">Kirjaudu sisään</a></li>

              </ul>

              <ul class="sidenav" id="mobile-menu">
                  <li><a href="../../index.html">Etusivu</a></li>
                  <li><a class='dropdown-trigger' href='#' data-target='dropdown2'>Planeetat</a></li>

                  <ul id='dropdown2' class='dropdown-content'>
                      <li><a href="../01-sun/sun.html">Aurinko</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../02-mercury/mercury.html">Merkurius</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../03-venus/venus.html">Venus</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../04-earth/earth.html">Maa</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../05-mars/mars.html">Mars</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../06-jupiter/jupiter.html">Jupiter</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../07-saturn/saturn.html">Saturnus</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../08-uranus/uranus.html">Uranus</a></li>
                      <li class="divider" tabindex="-1"></li>
                      <li><a href="../09-neptune/neptune.html">Neptunus</a></li>
                      <li class="divider" tabindex="-1"></li>
                  </ul>

                  <li><a href="../contact_form/contactform.html">Ota Yhteyttä</a></li>
                  <li><a href="../about_us/aboutus.html">Tietoa meistä</a></li>
                  <li><a href="../sign-in-page/sign.html">Kirjaudu sisään</a></li>

              </ul>
          </div>
      </div>
  </nav>
  <div class="container row">
    <div class="col s12 m10 l8 offset-l4 shadow-box">

        <h1><u>Yhteydenottolomake</u></h1>

        <p>Haluatko kysyä lisää aurinkokuntaamme liittyvästä sisällöstä, jakaa ajatuksiasi sivuston toimivuudesta tai antaa palautetta saavutettavuudesta? Olipa asiasi mikä tahansa, kuulemme mielellämme!
          <br><br> 
         Täytä alla oleva lomake ja lähetä meille viestisi – jokainen palaute on arvokas ja auttaa meitä parantamaan sivustoa. Vastaamme kaikkiin kysymyksiin ja palautteisiin mahdollisimman pian. Tehdään yhdessä matkastamme aurinkokunnan halki entistäkin sujuvampi!</p>
     
    </div>
  </header>

  <main>
    
  <div class="form-container">
    <form action="mailto:palaute@space.fi" method="post" enctype="text/plain">
      <div class="row">
        <!-- Vasen sarake -->
        <div class="col s12 m6">
          <!-- Yhteydenoton syy (Dropdown) korjattu-->
          <div class="input-field inline" style="display: flex; align-items: center;">
            <select name="syy" required >
              <option value="" disabled selected>Valitse syy</option>
              <option value="tiedustelu">Tiedustelu</option>
              <option value="palaute">Palaute</option>
              <option value="muut">Muut</option>
            </select>
            <label for="syy">Yhteydenoton syy</label>
          </div>

          <!-- Etunimi -->
          <div class="input-field inline">
            <input type="text" id="firstname" required>
            <label for="firstname">Etunimi</label>
          </div>

          <!-- Sähköposti -->
          <div class="input-field">
            <input type="email" id="email" required>
            <label for="email">Sähköposti</label>
          </div>

          <!-- Suosikkiplaneetta (Radio buttons) -->
          <label>Suosikkiplaneettasi</label>
          <p>
            <label><input name="planet" type="radio" value="mercury" /><span>Merkurius</span></label>
            <label><input name="planet" type="radio" value="venus" /><span>Venus</span></label>
            <label><input name="planet" type="radio" value="earth" /><span>Maa</span></label>
            <label><input name="planet" type="radio" value="mars" /><span>Mars</span></label>
            <label><input name="planet" type="radio" value="jupiter" /><span>Jupiter</span></label>
            <label><input name="planet" type="radio" value="saturn" /><span>Saturnus</span></label>
            <label><input name="planet" type="radio" value="uranus" /><span>Uranus</span></label>
            <label><input name="planet" type="radio" value="neptune" /><span>Neptunus</span></label>
          </p>
        </div>

        <!-- Oikea sarake -->
        <div class="col s12 m6">
          <!-- Viestikenttä -->
          <div class="input-field">
            <textarea id="message" class="materialize-textarea" required></textarea>
            <label for="message">Viesti</label>
          </div>

          <!-- "CAPTCHA"  -->
          <div class="g-recaptcha" data-sitekey="6LfWp5cqAAAAAPpIJovogASgWMlxpfDPOcB7Z2Fg"></div>

          <!-- Tietosuojalausekkeen hyväksyminen -->
          <p>
            <label>
              <input type="checkbox" required />
              <span>Hyväksyn tietosuojalausekkeen</span>
            </label>
          </p>

          <!-- Lähetä-painike -->
          <button type="submit" class="btn btn-submit waves-effect waves-light">Lähetä</button>
        </div>
      </div>
    </form>
  </div>

</main>

  <!-- Footer kopioitu toiselta sivulta sellaisenaan -->
  <footer class="page-footer black">
    <div class="container">
      <div class="row">
        <div class="col s12 m8 l6">
          <h5 class="white-text">Meidän motto</h5>
          <p class="grey-text text-lighten-4">Koodi elää, kun tiimi hengittää yhdessä.</p>
        </div>
        <div class="col s12 m4 l6">
          <h5 class="white-text">More Links</h5>
          <ul>
            <li><a href="#">linkki</a></li>
            <li><a href="#">linkki</a></li>
            <li><a href="#">linkki</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
        © 2024 S.P.A.C.E
      </div>
    </div>
  </footer>

  <!-- Select-elementin alustus -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('select');
      var instances = M.FormSelect.init(elems);
    });
  </script>

  <script src="./local-javascript/form.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
  </script>
  <script type="text/javascript">
    (function () {
      emailjs.init({
        publicKey: "ghIrM97zyjgNPnEKg",
      });
    })();
  </script>

  <script src="../../resources/javascript/aos.js"></script>
  <script src="../../resources/javascript/jquery-3.7.1.min.js"></script>
  <script src="../../resources/javascript/materialize.js"></script>
  <script src="../../global/javascript/global.js"></script>

  <!-- emailjs ja recaptcha yhdistelmä -->
  <script>
  emailjs.init("4pNaMiNVu_a9TToRB");

document.querySelector(".form-container form").addEventListener("submit", function(event) {
  event.preventDefault(); 

  // reCAPTCHA-vastaus
  const recaptchaResponse = grecaptcha.getResponse();
  if (!recaptchaResponse) {
    alert("Vahvista reCAPTCHA ennen lomakkeen lähettämistä!");
    return;
  }

  // Haetaan lomakkeen kenttien arvot
  const syy = document.querySelector("select[name='syy']").value;
  const firstname = document.getElementById("firstname").value;
  const email = document.getElementById("email").value;
  const planet = document.querySelector("input[name='planet']:checked")?.value || "Ei valittu";
  const message = document.getElementById("message").value;

  // EmailJS:n parametrit
  const emailParams = {
    syy: syy,
    firstname: firstname,
    email: email,
    planet: planet,
    message: message,
    "g-recaptcha-response": recaptchaResponse, 
  };

  // Lähetetään sähköposti
  emailjs.send("service_fhrwk3w", "template_hmripfj", emailParams)
    .then(
      function(response) {
        alert("Viesti lähetetty onnistuneesti!");
        document.querySelector(".form-container form").reset(); 
        grecaptcha.reset(); 
      },
      function(error) {
        alert("Virhe viestin lähetyksessä: " + error.text);
      }
    );
});
</script>

</body>

</html>